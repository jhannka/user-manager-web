<div class="container">
  <div class="container row mt-4">
    <div class="col col-12">
      <h3>Cambiar Contraseña</h3>
      <hr class="w-100">
    </div>
  </div>
  <div class="container">
    <form [formGroup]="formData" class="row">
      <div class="col-6">
        <mat-form-field class="full-width" appearance="outline" floatLabel="always">
          <input matInput type="password" formControlName="password" placeholder="Contraseña"/>
        </mat-form-field>
        <div *ngIf="passwordControl?.errors && formData.touched">
          <div *ngIf="passwordControl?.hasError('required')" class="alert alert-warning" role="alert">
            La contraseña es requerida
          </div>
          <div *ngIf="passwordControl?.hasError('minlength')" class="alert alert-info" role="alert">
            La contraseña debe tener al menos 8 caracteres
          </div>
          <div *ngIf="passwordControl?.hasError('pattern')" class="alert alert-danger" role="alert">
            La contraseña debe contener al menos un número, una letra mayúscula y un carácter especial
          </div>
        </div>
      </div>
      <div class="col-6">
        <mat-form-field class="full-width" appearance="outline" floatLabel="always">
          <input matInput type="password" formControlName="confirmPassword" placeholder="Verificar contraseña"/>
        </mat-form-field>
        <div *ngIf="formData.errors?.['mismatch'] && formData.touched" class="alert alert-danger" role="alert">
          Las contraseñas no coinciden
        </div>
      </div>
    </form>

    <div class="row mb-4">
      <div class="col col-6">
        <button mat-raised-button class="w-100" (click)="onCancel(false)">Cancelar</button>
      </div>
      <div class="col col-6">
        <button mat-raised-button color="primary" class="w-100" [disabled]="formData.invalid" (click)="onSave()">Guardar
        </button>
      </div>
    </div>
  </div>
</div>
